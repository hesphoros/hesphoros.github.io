{"data": "# \u524d\u7f00\u548c\u5b9a\u4e49\n\n\u5bf9\u4e8e\u4e00\u4e2a\u957f\u5ea6\u4e3an\u7684\u6570\u7ec4a\uff0c\u5b9a\u4e49\uff1a\n$$\n\\text{prefix}_i = \\sum_{j=1}^{i} a_j\n$$\n\u9012\u63a8\u5173\u7cfb\u4e3a\uff1a\n\n$$\n\\text{prefix}_i = \\text{prefix}_{i-1} + a_i\n$$\n\n\n**\u5f02\u6216**\u4e5f\u6ee1\u8db3\u524d\u7f00\u548c\u6027\u8d28\uff0c\u5373\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u524d\u7f00\u5f02\u6216prexor\u4e3a\uff1a\n\n\u8bbe\u5f02\u6216\u524d\u7f00\u548c\u4e3a\uff1a\n$$\n\\text{prexor}_i = \\bigoplus_{j=1}^{i} a_j\n$$\n\n\u9012\u63a8\u5173\u7cfb\u4e3a\uff1a\n\n$$\n\\text{prexor}_i = \\text{prexor}_{i-1} \\oplus a_i\n$$\n\ud83d\udccc **\u533a\u95f4\u548c\u8ba1\u7b97\u516c\u5f0f\uff08\u95ed\u533a\u95f4 [l, r]\uff09**\n\n\u5982\u679c\u5df2\u7ecf\u6709\u524d\u7f00\u548c\u6570\u7ec4 \\( s \\)\uff0c\u5219\u6570\u7ec4\u533a\u95f4 \\([l, r]\\) \u7684\u548c\u4e3a\uff1a\n\n- \u5f53 \\( l > 0 \\) \u65f6\uff1a\n  \n  $$\n  \\text{sum}_{l,r} = s[r] - s[l-1]\n  $$\n\n- \u5f53 \\( l = 0 \\) \u65f6\uff1a\n\n  $$\n  \\text{sum}_{0,r} = s[r]\n  $$\n\n\n\nexample:\n\n![image-20250513161303420](https://cdn.jsdelivr.net/gh/hesphoros/blogimages@main/img/image-20250513161303420.png)\n\n\n\n\n\n# \u5dee\u5206\u6570\u7ec4\n\n## \u5dee\u5206\u6570\u7ec4\u7684\u5b9a\u4e49\n\n\u8bbe\u539f\u6570\u7ec4\u4e3a \n$$\n( a = [a_1, a_2, \\dots, a_n] \\\n$$\n\u5219\u5176\u5dee\u5206\u6570\u7ec4 \\( d \\) \u5b9a\u4e49\u4e3a\uff1a\n$$\nd_1 = a_1 \\\\\nd_i = a_i - a_{i-1} \\quad (2 \\leq i \\leq n)\n$$\n\n\u5373\uff1a\n\n$$\nd_i = a_i - a_{i-1}\n$$\n\n---\n\n### \u2705 \u5dee\u5206\u6570\u7ec4\u7684\u4e24\u4e2a\u6027\u8d28\n\n1. **\u539f\u6570\u7ec4\u8fd8\u539f\u516c\u5f0f\uff08\u901a\u8fc7\u5dee\u5206\u524d\u7f00\u548c\u6062\u590d\u539f\u6570\u7ec4\uff09**\uff1a\n\n   $$\n   a_i = \\sum_{j=1}^{i} d_j = a_1 + \\sum_{j=2}^{i} d_j\n   $$\n\n   \u6216\u9012\u63a8\u5f62\u5f0f\uff1a\n\n   $$\n   a_i = a_{i-1} + d_i\n   $$\n\n2. **\u533a\u95f4\u52a0\u6cd5\u7684\u7b49\u6548\u64cd\u4f5c\uff08\u7528\u4e8e\u533a\u95f4\u66f4\u65b0\uff09**\uff1a\n\n   \u82e5\u5c06\u533a\u95f4 \\([l, r]\\) \u5185\u7684\u6240\u6709\u5143\u7d20\u52a0\u4e0a\u67d0\u4e2a\u6570 \\(x\\)\uff0c\u53ea\u9700\u5bf9\u5dee\u5206\u6570\u7ec4\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a\n\n   $$\n   d_l += x \\\\\n   d_{r+1} -= x \\quad (\\text{\u82e5 } r + 1 \\leq n)\n   $$\n\n   \u6700\u540e\u5bf9\u5dee\u5206\u6570\u7ec4\u6c42\u524d\u7f00\u548c\u5373\u53ef\u6062\u590d\u66f4\u65b0\u540e\u7684\u539f\u6570\u7ec4\u3002\n\n\n\n\n\n# \u5173\u7cfb\n\n## \ud83d\udd17 \u5dee\u5206\u6570\u7ec4\u3001\u539f\u6570\u7ec4\u3001\u524d\u7f00\u548c\u6570\u7ec4\u4e4b\u95f4\u7684\u5173\u7cfb\n\n\u8bbe\uff1a\n\n- \u539f\u6570\u7ec4\u4e3a\uff1a\\( a = [a_1, a_2, \\dots, a_n] \\)\n- \u5dee\u5206\u6570\u7ec4\u4e3a\uff1a\\( d \\)\n- \u524d\u7f00\u548c\u6570\u7ec4\u4e3a\uff1a\\( s \\)\n\n---\n\n### \u2705 \u5dee\u5206\u6570\u7ec4\u4e0e\u539f\u6570\u7ec4\u7684\u5173\u7cfb\n\n\u5dee\u5206\u6570\u7ec4\u5b9a\u4e49\u4e3a\uff1a\n\n$$\nd_1 = a_1 \\\\\nd_i = a_i - a_{i-1} \\quad (2 \\leq i \\leq n)\n$$\n\n\u7531\u6b64\u6062\u590d\u539f\u6570\u7ec4\uff08\u5bf9\u5dee\u5206\u6570\u7ec4\u6c42\u524d\u7f00\u548c\uff09\uff1a\n\n$$\na_i = \\sum_{j=1}^{i} d_j\n$$\n\n---\n\n### \u2705 \u539f\u6570\u7ec4\u4e0e\u524d\u7f00\u548c\u6570\u7ec4\u7684\u5173\u7cfb\n\n\u524d\u7f00\u548c\u6570\u7ec4\u5b9a\u4e49\u4e3a\uff1a\n\n$$\ns_i = \\sum_{j=1}^{i} a_j\n$$\n\n\u5373\u9012\u63a8\u5f62\u5f0f\uff1a\n\n$$\ns_i = s_{i-1} + a_i\n$$\n\n---\n\n### \u2705 \u5dee\u5206\u6570\u7ec4\u4e0e\u524d\u7f00\u548c\u6570\u7ec4\u7684\u5173\u7cfb\uff08\u95f4\u63a5\uff09\n\n\u7531\uff1a\n\n$$\na_i = \\sum_{j=1}^{i} d_j\n$$\n\n\u518d\u4ee3\u5165\u524d\u7f00\u548c\u516c\u5f0f\uff1a\n\n$$\ns_i = \\sum_{k=1}^{i} a_k = \\sum_{k=1}^{i} \\left( \\sum_{j=1}^{k} d_j \\right)\n$$\n\n\u56e0\u6b64\uff1a\n\n$$\ns_i = \\sum_{j=1}^{i} (i - j + 1) \\cdot d_j\n$$\n\n\u8fd9\u4e2a\u5173\u7cfb\u66f4\u590d\u6742\uff0c\u4e00\u822c\u4e0d\u76f4\u63a5\u4f7f\u7528\uff0c\u4f46\u5728\u67d0\u4e9b\u6570\u5b66\u9898\u4e2d\u6709\u7528\u3002\n\n---\n\n"}